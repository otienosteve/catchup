// // // let name ="Steve"

// // // // console.log(name)

// // // // variable - a store for data 

// // // // declaration 
// // // let accountBalance 
// // // // initialisation 
// // // accountBalance = 5000000
// // // // = 4000000;

// // // let price = 2500

// // // // data type = 

// // // // var - redeclared, reassigned
// // // var type="type1"
// // // var type="type2"
// // // // ES6- let, const
// // // // let- reassign but not reintroduce(redeclaring),
// // // let  size = "Large"

// // // size = "Medium"
// // // size = "Small"

// // // // const -> cannot reassign, cannot redeclare
// // // const brand = "Versace";
// // // // brand = "Nike";
// // // console.log(brand)

// // // // primitive types = ( number, string, boolean) ( null, undefined, BigInt, symbol)

// // // let defaulter = true
// // // let heading3 = document.getElementsByTagName('h3')[0]

// // // console.log(heading3)

// // // // complex, structured data type = (object,functions, arrays) 


// // // // operators - constructs that are used to manipulate data. 

// // // let secondName = "Otieno"
// // // console.log(name+' '+secondName)
// // // let num1=10, num2=5

// // // let result
// // // // Arithmetic (+,-,*, %, **, ++,--)
// // // result = num1**num2
// // // // operand-1 operator operand-2
// // // // unary operator
// // // num1--
// // // console.log(num1)

// // // //  assignment operator
// // // // left <- right
// // // //  =, (+=, -=, *=, %=, **=, /=)
// // // // 5
// // // num2 = num2 +5
// // // // 10
// // // num2**=4
// // // // 10%4=2
// // // // 15

// // // let div3 = num2%3
 
// // // console.log(div3)
// // // let year = 2008
// // // year%=4
// // // console.log(year)

// // // //  comparison

// // // // Burj Khalifa <> Times Towers
// // // // True / False
// // // let num3 =1000
// // // let num4 = 600

// // // // comparison operators - used to compare values -> (true / false)
// // // // (decision/loop) 
// // // // >,<,>=,<=

// // // if( num3 > num4){

// // //     console.log("Burj Khalifa is taller")
// // // } 

// // // //  Boolean / logical

// // // // &&-AND, ||- OR, !- Not
// // // console.log(num3>num4 || 1 > 2)

// // // let paidFee = true

// // // console.log(! paidFee)

// // // // console.log(result)

// // // // `string..... ${}`

// // // let introduction = `My name is ${name.toUpperCase()} I am a TM at Moringa`
// // // let calc = `The sum of 2 +2 is ${2+2}`
// // // console.log(introduction)
// // // console.log(calc)

// // // let balance = 12000
// // // sellingPrice =7000

// // // if(balance >= 7000){
// // //     console.log(`Product has been purchased your current balance is ${balance-sellingPrice}`)
// // // }else{
// // //     console.log(`Insufficeinet fundsdeficit is ${sellingPrice- balance}`)
// // // }

// // // /*

// // // ..if block 
// // // if(condition){

// // // }

// // // ...if else blcok 
// // // if(condition){
// // // // logic if condition is true
// // // }
// // // else{

// // // // logic if condition is false

// // // }

// // // .....if else if block
// // // if (condition){

// // // }else if(condition){

// // // }

// // // */
// // // // determine if a number is odd/ even
// // // let number = 31
// // // // a number

// // // if(number%2===0){
// // //     console.log(`${number } is even`)
// // // }
// // // else {
// // //     console.log(`${number } is odd`)
// // // }
// // // let angle1=40
// // // let angle2= 80
// // // let angle3 = 60

// // // if(angle1+angle2+angle3===180){
// // //     console.log("valid triangle")
// // // }else {
// // //     console.log("Invalid triangle")
// // // }

// // // //  given length and width of a rectangle, write a program 
// // // // to determine if the area is greater than the perimeter?

// // // let width = 3
// // // let length = 3

// // // let area = length*width 
// // // let perimeter = 2*(length+width)

// // // if(area>perimeter){
// // //     console.log(`Area: ${area} is greater than perimeter: ${perimeter}`)
// // // }else{
// // //     console.log(`Area: ${area} is less than perimeter: ${perimeter}`)
// // // }

// // // // while, do
// // // // for()


// // // let counter =1 //loop variable
// // // //  iteration -instance of a loop 
// // // // iterate 10 times
// // // // while(condition){
// // // // body of while loop
// // // // }
// // // while(counter<=10){ //condition
    
// // //     if(counter%2!==0){
// // //         console.log(`${counter} is odd`)
// // //     }
// // //     counter++ // increment/ decrement
// // // } 
// // // console.log("you are just from the loop")

// // //  let counter2 = 10;
// // // // let itercount= 1

// // // //  while(counter2>=1){

// // // //     console.log(counter2,itercount )
// // // //     itercount++
// // // //     counter2--
// // // //  }

// // // // do{
// // // // console.log(counter2)
// // // // counter2--
// // // // }while(counter2<=1)

// // // // for loop,
// // // // (loop variable,condition,increment/decrement)

// // // for(let counter=0; counter<=10; counter++){

// // //     console.log(counter)
// // // }


// // // //  if else ladder / nested if else

// // // // pay fee, granted entry, class->
// // // let fee_balance= 7000
// // // let student_type = "practical"
// // // if(fee_balance<4000){
// // // console.log("You can go to class")
// // //     if(student_type==="practical"){
// // //         console.log("Welcome to the practical class")
// // //     }
// // // }

// // // let score = 80

// // // if(score<=30){
// // //     console.log("D")
// // // }else if(score<=50 && score >30){
// // //     console.log("C")
// // // }else if(score<=70 && score >50){
// // //     console.log("B")
// // // }else if(score<=90 && score >70){
// // //     console.log("A")
// // // }

// // // // case control structure -
// // // // swicth, case, default
// // // let code=257

// // // switch(code){

// // //     case 254:
// // //         console.log("Kenya")
// // //         break;
// // //     case 256:
// // //         console.log("Uganda")
// // //         break;
// // //     case 255:
// // //         console.log("Tanzania")
// // //         break;
// // //     default:
// // //         console.log("Not part of EAST Africa")

// // // }


// // // // Nested Loop

// // // /*
// // // *
// // // **
// // // ***
// // // ****
// // // *****
// // // ...
// // // */
// // // let rows =1
// // // while(rows<=10){
// // // let star=''

// // // for(let column=1; column<=rows; column++){
// // //     star+='*'
// // // }
// // // console.log(star)

// // //     rows++

// // // }

// // // // functions
// // // function mult(num1, num2){
// // // let mult = num1*num2
// // // return mult
// // // }


// // // console.log(mult(60,17))
// // // console.log(mult(6,17))
// // // console.log(mult(5,8))


// // // // withdraw, deposit, check_balance, createACcount
// // // accountBalance=7000000


// // // function withdraw(amount){

// // // accountBalance-=amount
// // // if(accountBalance>amount){

// // //     console.log(`${createCode() }  CONFIRMED you have withdrawn ${amount} balance ${accountBalance}`)
// // //     return accountBalance
// // // }
// // // else{
// // //     console.log("Insufficent Funds")
// // // }

// // // }

// // // withdraw(6000) //invoking/ calling

// // // function createCode(){
// // //     let string ="ZXCVBNM12345678990POIUYTREWWQASDGFHJKL"
// // // let Code =''
// // //     for(let i=0; i<=7;i++){
// // //         Code+=string[Math.floor(Math.random()*string.length)]
// // //     }
// // //     return Code
// // // }
// // // console.log(createCode())

// // // // anonymous function
// // // let deposit = function (amount=0){
// // // accountBalance+=amount
// // // console.log(`You have deposited ${amount}`)
// // // }

// // // // anonymous arrow function () => {}
// // // let checkBalance = () =>{ 

// // // console.log(`your account Balance is ${accountBalance}`)
// // // }

// // // // IIFE, hoisting


// // // (function (name){
// // // console.log("Your name is "+name)

// // // }("steve"))
// // // ( function (opt){
// // // // body
// // // }())
// // // // defined and called the function

// // let num = 30
// // // global

// // console.log(num)

// // // block
// // if(10>5){

// //     let value =50
// //     // block
// //     console.log(value,num)
// //     // console.log(num)
// // }
// // (function square(num){
// //     let sqr = num*num 
// //     if(6<10){
// // let var2 =200
// // console.log(var2)

// // console.log(sqr)
// //     }
// //     // console.log(var2)
// // }(5))

// // // console.log(sqr)

// // function exponent(num, func){
// //     let result = func(num)
// //     console.log(result)
// // }
// // // different exponentiation scenarios
// // function raise3(num){
// //     console.trace()
// //     return num**3
// // }
// // function raise4(num){
// //     return num**4
// // }

// // function raise5(num){
// //     return num**5
// // }

// // // use callbacks when you are sure of the task you want to perform,
// // // but are unsure of another related task as it varies ,so we abstract 
// // // the second task to a function and provide the logic when it hs been determined 

// // // exponent(5,raise3)
// // // exponent(5,raise4)
// // // exponent(5,raise5)

// // // callbacks, closure arrays and objects

// // //  being passed as an argument 

// // // returned from a function 


// // function mult(a,b){
// // return a*b
// // }
// // // mult(2,5)
// // function raise(num){

// //     return function (power){
// //         return num**power
// //     }
// // }
// // /*
// // function name(){
// // }
// // function (){
// // }
// // */ 
// // let result = raise(5)

// // console.log(result(7))

// // // arrays -> a variable that contains multiple values
// // // let variablename = [val1,val2,val3,val4,val5,...]
// // //  an array is zero indexed 

// // let name ="steve"

// // let names2= ["Mary","Henry","Oliver","victor"]
// // let names = ["steve", "Osman","Natalie","Morris","Peter","Musau",...names2]
// // console.log(names.length)
// // // console.log(names[1])
// // let index=0
// // names[0]="Otieno"
// // // push- adds an element at the end of the array
// // names.push("Imani")
// // names.push("Boniface")
// // //  unshift -adds an element at the beginning
// // names.unshift("Marvin")
// // names.unshift("Alvine")

// // //pop -remove an element at the end of the array
// // names.pop()
// // names.pop()
// // //shift -removes an element at the beginning of an array
// // names.shift()
// // names.shift()

// // // let names3 = [...names,...names2]
// // // console.log(names)
// // console.log(typeof names)
// // while(index<names.length){
// //     if( typeof names[index] === 'object'){
// //         // console.log("inside loop")
// //         for(let i=0; i<names[index].length; i++){
// //             // console.log(names[index][i])
// //         }
// //     }else{

// //         // console.log(names[index])
// //     }
// // index++
// // }
// // let number = 10
// // let numbers = [1,2,3,4,5,6,7]

// // for( let idx =0; idx<numbers.length;idx++){
// //     // console.log(numbers[idx])
// // }

// // str ='Today\'s Menu'

// // // escape characters in JS


// // // slice, splice
// // console.log(names)
// // console.log(names.splice(0,4))
// // console.log(names)


// // // Object

// // /*
// // let obj = {
// //     key:"value",
// //     keys2:3,
// //     key3:6.09,
// //     key4:true
// // }

// // */

// // let person ={
// //     name:"Steve",
// //     age:40,
// //     role:"Hustler",
// //     hometown:"Kisumu",
// //     fan:true,
// //     education:{
// //         primary: "Umoja One",
// //         Highschool: "Maranda",
// //         College:"KCA"
// //     }
// // }
// // person['name']="Otieno"
// // console.log(person['name'])
// // console.log(person['education']['primary'])

// // // Object.keys() => returns keys of an object as an array
// // let personKeys= Object.keys(person)
// // console.log(personKeys)
// // for (let i=0; i<personKeys.length; i++){

// // console.log(person[personKeys[i]])
// // }

// // let values = Object.values(person)

// // console.log(values)

// // let entries = Object.entries(person)
// // console.log(entries)



// // let grade = prompt()

// // // console.log(grade*10)

// // HOF-> a function that takes another
// //  function as an argument and also returns
// // other functions from it. 

// // map, filter, reduce, find, foreach -> arrays


// let numbers = [1,2,3,4,5,6,7,8]
// // 
// console.log(numbers)
// function square(n){
//     let res= n*n
//     return res
// }
// let squares = numbers.map(n=>n*n)
// // (args)=>{ return val}
// // args=>{return val}
// // args => args*args

// console.log(squares)
// let names = ["steve", "Osman","Natalie","Morris","Peter","Musau"]
// console.log(names)
// let uppercased = names.map(name=>name.toUpperCase())
// console.log(uppercased)
// // foreach() -> 

// let uppercased2 = []

// names.forEach(function (name){
//     uppercased2.push(name.toUpperCase())
// })

// console.log(uppercased2)

// let greater5 = numbers.filter(n=>n%2!==0)
// console.log(greater5)


// // reduce-> aggregator == values =>
// //  [val1,val2,val3,val4,val5] = function =>  val

// // array.reduce(ac,v=> ac)

// let sum = numbers.reduce(function(store,value){
//     // store, value
//     //  0 , 1
//     // 1, 2
//     // 3,4
//     return store+=value
// })
// console.log(sum)

// let res  = numbers.find(n=>n%2==0)


// console.log(res)


// console.log("MY DOM",document.body)

/*
tag Name- getElementsTagName()-> collection
class Name - getElementsByClassName() -> Collection
id- getElementById()->  a single Node

-------
querySelector() ->  A single DOM Node (first Match)
querySelectorAll() -> A collection of DOM nodes

*/ 

// console.log(document.getElementsByTagName('h3')[0])
// console.log(document.getElementsByTagName('ul')[0])

// console.log(document.getElementsByClassName('container')[0])
// console.log(document.getElementsByClassName('middle')[0])
// console.log(document.getElementById('container-1'))

// console.log(document.querySelector('p'))
// console.log(document.querySelector('.container'))
// console.log(document.querySelector('#container-2'))

// console.log(document.querySelectorAll('li')[2])
// console.log(document.querySelectorAll('.container')[0])

// don't question syntax 
//  let name = "steve" / name="steve"

// let paragraph = document.querySelector('p')

// paragraph.style.color="red"

// let change = document.querySelector('#change')
// console.log(change)
// let body= document.body
// console.log(body)
// change.addEventListener('click',()=>{
//     let hex ='1a2b3c4fe67889'
//     let color="#"
//     for( let i=0; i<=5; i++){
// color+=hex[Math.floor(Math.random()*hex.length)]
// }
// console.log(color)
//     body.style.backgroundColor=color


// })
// let divCont= document.getElementsByClassName('container')


// let li= document.createElement('li')
// li.textContent="4"
// let img = document.createElement('img')
// img.style.width="200px"
// img.style.height="200px"
// img.src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRSXMqffBeQFV0r8nDCHfjwrnou3xF6QyzbhhUpgFuf&s'
// body.append(img)

// let ul =document.querySelector('ul')
// ul.append(li)
// console.log(ul)
// console.log(li)

// username should not contain digits
// email should contain a dot and an @ symbol
// password should be at least 8 charachters

// let usernameField= document.querySelector('input[name="username"]')
// let emailField= document.querySelector('input[name="email"]')
// let passwordField= document.querySelector('input[name="password"]')
// let cnfPasswordField= document.querySelector('input[name="cnf-password"]')


// let usernameErrorField =document.querySelector('.username-error')
// let emailErrorField =document.querySelector('.email-error')
// let passwordErrorField =document.querySelector('.password-error')


// let form = document.querySelector('form')
// form.addEventListener('submit',(e)=>{
// e.preventDefault()
// let username = usernameField.value
// if(username.match(/0-9/gi)!==undefined){
// usernameErrorField.textContent="Input should not contain a digit"
// usernameErrorField.style.color="red"
// }
// // console.log(username)
// let email = emailField.value.split('')
// // steve@gmail.com
// // steve@gmail
// // stevegmail.com
// if(!(email.includes('@')) || !(email.includes('.'))){
//     emailErrorField.style.color="red"
//     emailErrorField.textContent="Email Should include an @ and a ."
// }

// })
// console.log(form)

// let israelBtn = document.querySelector('#support-Israel')
// let palestineBtn= document.querySelector('#support-Palestine')

// let israelSupport = document.querySelector('#israel-count')
// let palestineSupport = document.querySelector('#palestine-count')

// let israelcount = parseInt(israelSupport.textContent)
// let palestinecount = parseInt(israelSupport.textContent)
// israelBtn.addEventListener('mouseover', ()=>{
//     israelcount+=1
// israelSupport.textContent=israelcount


// })

// palestineBtn.addEventListener('mouseover', ()=>{
// palestinecount+=1
// palestineSupport.textContent=palestinecount
    
// })

// XMLHTTPrequest Object
// fetch()

// fetch(url).then(res=> res.json()).then(data=>{
//  data
// })

// console.log(container)
// javascript/react -> python/flask

// fetch('https://cat-fact.herokuapp.com/facts',{headers:{mode:'no-cors'}}).then(res=>res.json()).then(data=>{
    // console.log(data)
    //     let facts=''
    //     for(let i=0; i<=data.length-1; i++){
        //         console.log( data[i].user) 
        
        //         facts+= `<p>${data[i].text}</p>`
        
        //     }
        //     container.innerHTML=facts
        // })
        let updateDiv = document.querySelector('.update-form')
        let container = document.querySelector('#users')
fetch('http://localhost:3000/users').then(res=>res.json()).then(data=>{
let table=`<table>
<tr>
<td> id </id>
    <td>First Name</td>
    <td>Last Name</td>
<td>Email</td>
<td>Gender</td>
<td>Update</td>
<td>Delete</td>
</tr>
`
console.log(data)

for( let datum of data){
    let entry = `<tr>
    <td>${datum.id}</td>
    <td>${datum.first_name}</td>
    <td>${datum.last_name}</td>
<td>${datum.email}</td>
<td>${datum.gender}</td>
<td> <button class='update' id=${datum.id} >Update</button></td>
<td><button class='delete' id=${datum.id} >Delete </button></td>
</tr>
`
table+=entry
}
table+='</table>'
// console.log(table)
container.innerHTML=table

let buttons = document.querySelectorAll('.delete')
// console.log(buttons)
buttons.forEach(btn=>{
btn.addEventListener('click',(e)=>{
    let id = e.target.id
    fetch(`http://localhost:3000/users/${id}`, {
        method: 'DELETE'
      })
        .then(res => res.json())
        .then(data => {
          console.log(data)
        })
        .catch(err => console.log(err));



})



})


let updateButtons = document.querySelectorAll('.update')

updateButtons.forEach(button=>{
    button.addEventListener('click', (e)=>{
let id = parseInt(e.target.id)
let entry = data.filter(datum=>datum.id===id)[0]
let form =`<form class='update-vals'>
<h3>Update User</h3>
<label for="">first name</label><br>
<input type="text" id="firstname" value=${entry.first_name}><br>
 <label for="">Last name</label><br>
 <input type="text" id="lastname" value=${entry.last_name}><br> 
 <label for="">Email</label><br>
 <input type="text" id="email" value=${entry.email}><br> 
 <label for="">Gender</label><br>
 <input type="text" id="gender" value=${entry.gender}><br> 
<input type="submit" value="Update User">
    </form>`

    updateDiv.innerHTML=form
let updateForm = document.querySelector('.update-vals')
updateForm.addEventListener('submit',(e)=>{
e.preventDefault()
console.log(e.target)
let firstname = document.querySelector('input[id="firstname"]').value
let lastname = document.querySelector('input[id="lastname"]').value
let email = document.querySelector('input[id="email"]').value
let gender = document.querySelector('input[id="gender"]').value
 let user = {
    "first_name": firstname,
    "last_name": lastname,
    "email": email,
    "gender": gender
  }
//   patch specific user
  fetch(`http://localhost:3000/users/${entry.id}`,{
    method: 'PATCH',
    headers: { 'Content-Type': 'application/json' },
    body:JSON.stringify(user)
}).then(res=>res.json()).then(data=>{
    console.log(data)
}).catch(err=>{
    console.log(err)
})

})

    })
})


})


let form = document.querySelector('.user-form')
let formToggle=document.getElementById('toggle-user-form')
formToggle.addEventListener('click',()=>{

    if(form.style.display==="block"){
        form.style.display='none'
    }else{
        form.style.display='block'
    }
})

form.addEventListener('submit',(e)=>{
e.preventDefault()
let firstname = document.querySelector('input[name="firstname"]').value
let lastname = document.querySelector('input[name="lastname"]').value
let email = document.querySelector('input[name="email"]').value
let gender = document.querySelector('input[name="gender"]').value
 let user = {
    "first_name": firstname,
    "last_name": lastname,
    "email": email,
    "gender": gender
  }
fetch('http://localhost:3000/users',{
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body:JSON.stringify(user)
}).then(res=>res.json()).then(data=>{
    console.log(data)
}).catch(err=>{
    console.log(err)
})


})



























